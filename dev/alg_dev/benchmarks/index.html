<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Benchmark Suite · SciML Developer Documentation</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90474609-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-90474609-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://docs.sciml.ai/DiffEqDevDocs/stable/alg_dev/benchmarks/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="SciML Developer Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SciML Developer Documentation</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Contributor Guide</span><ul><li><a class="tocitem" href="../../contributing/ecosystem_overview/">Ecosystem Overview</a></li><li><a class="tocitem" href="../../contributing/adding_packages/">Adding a new package to the common interface</a></li><li><a class="tocitem" href="../../contributing/adding_algorithms/">Adding Algorithms</a></li><li><a class="tocitem" href="../../contributing/defining_problems/">Developing A New Problem</a></li><li><a class="tocitem" href="../../contributing/diffeq_internals/">The DiffEq Internals</a></li><li><a class="tocitem" href="../../contributing/type_traits/">Type Traits</a></li></ul></li><li><span class="tocitem">Algorithm Development Tools</span><ul><li><a class="tocitem" href="../test_problems/">Test Problems</a></li><li><a class="tocitem" href="../convergence/">Convergence Simulations</a></li><li class="is-active"><a class="tocitem" href>Benchmark Suite</a></li></ul></li><li><span class="tocitem">Internal Documentation</span><ul><li><a class="tocitem" href="../../internals/notes_on_algorithms/">Notes on Algorithms</a></li><li><a class="tocitem" href="../../internals/tableaus/">ODE Tableaus</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Algorithm Development Tools</a></li><li class="is-active"><a href>Benchmark Suite</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Benchmark Suite</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SciML/DiffEqDevDocs.jl/blob/master/docs/src/alg_dev/benchmarks.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Benchmark-Suite"><a class="docs-heading-anchor" href="#Benchmark-Suite">Benchmark Suite</a><a id="Benchmark-Suite-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmark-Suite" title="Permalink"></a></h1><p>DifferentialEquations.jl provides a benchmarking suite to be able to test the difference in error, speed, and efficiency between algorithms. DifferentialEquations.jl includes current benchmarking notebooks to help users understand the performance of the methods. These benchmarking notebooks use the included benchmarking suite. There are two parts to the benchmarking suite: shootouts and work-precision. The <code>Shootout</code> tests methods head-to-head for timing and error on the same problem. A <code>WorkPrecision</code> draws a work-precision diagram for the algorithms in question on the chosen problem.</p><h3 id="Rendered-Benchmarks"><a class="docs-heading-anchor" href="#Rendered-Benchmarks">Rendered Benchmarks</a><a id="Rendered-Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Rendered-Benchmarks" title="Permalink"></a></h3><p>The rendered SciML Benchmarks can be found at <a href="https://benchmarks.sciml.ai/stable/">benchmarks.sciml.ai</a>. The source code for the benchmarks can be found at <a href="https://github.com/SciML/SciMLBenchmarks.jl">https://github.com/SciML/SciMLBenchmarks.jl</a>.</p><h3 id="Shootout"><a class="docs-heading-anchor" href="#Shootout">Shootout</a><a id="Shootout-1"></a><a class="docs-heading-anchor-permalink" href="#Shootout" title="Permalink"></a></h3><p>A shootout is where you compare between algorithms. For example, to see how different Runge-Kutta algorithms fair against each other, one can define a setup which is a dictionary of Symbols to Any, where the symbol is the keyword argument. Then you call <code>Shootout</code> on that setup. The code is as follows:</p><pre><code class="language-julia hljs">using OrdinaryDiffEq,DiffEqProblemLibrary.ODEProblemLibrary,DiffEqDevTools,ODE,ODEInterface,ODEInterfaceDiffEq

ODEProblemLibrary.importodeproblems()
prob = ODEProblemLibrary.prob_ode_2Dlinear
setups = [Dict(:alg=&gt;DP5())
          Dict(:abstol=&gt;1e-3,:reltol=&gt;1e-6,:alg=&gt;ode45()) # Fix ODE to be normal
          Dict(:alg=&gt;dopri5())]
names = [&quot;DifferentialEquations&quot;;&quot;ODE&quot;;&quot;ODEInterface&quot;]
shoot = Shootout(prob,setups;dt=1/2^(10),names=names)</code></pre><p>Note that keyword arguments applied to <code>Shootout</code> are applied to every run, so in this example every run has the same starting timestep.  Here we explicitly chose names. If you don&#39;t, then the algorithm name is the default. This returns a Shootout type which holds the times it took for each algorithm and the errors. Using these, it calculates the efficiency defined as 1/(error*time), i.e. if the error is low or the run was quick then it&#39;s efficient. <code>print(shoot)</code> will show all of this information, and <code>plot(shoot)</code> will show the efficiencies of the algorithms in comparison to each other.</p><p>For every benchmark function there is a special keyword <code>numruns</code> which controls the number of runs used in the time estimate. To be more precise, these functions by default run the algorithm 20 times on the problem and take the average time. This amount can be increased and decreased as needed.</p><p>The keyword <code>appxsol</code> allows for specifying a reference against which the error is computed. The method of error computation can be specified by the keyword <code>error_estimate</code> with values <code>:L2</code> for the L2 error over the solution time interval, <code>:l2</code> calculates the l2 error at the actual steps and the default <code>:final</code> only compares the endpoints.</p><p>A ShootoutSet is a where you define a vector of probs and tspans and run a shootout on each of these values.</p><h3 id="WorkPrecision"><a class="docs-heading-anchor" href="#WorkPrecision">WorkPrecision</a><a id="WorkPrecision-1"></a><a class="docs-heading-anchor-permalink" href="#WorkPrecision" title="Permalink"></a></h3><p>A WorkPrecision calculates the necessary componnets of a work-precision plot. This shows how time scales with the user chosen tolerances on a given problem. To make a WorkPrecision, you give it a vector of absolute and relative tolerances:</p><pre><code class="language-julia hljs">abstols = 1 ./10 .^ (3:10)
reltols = 1 ./10 .^ (3:10)
wp = WorkPrecision(prob,DP5(),abstols,reltols;name=&quot;Dormand-Prince 4/5&quot;)</code></pre><p>If we want to plot many WorkPrecisions together in order to compare between algorithms, you can make a WorkPrecisionSet. To do so, you pass the setups into the function as well:</p><pre><code class="language-julia hljs">wp_set = WorkPrecisionSet(prob,tspan,abstols,reltols,setups;numruns=2)
setups = [Dict(:alg=&gt;RK4());Dict(:alg=&gt;Euler());Dict(:alg=&gt;BS3());
          Dict(:alg=&gt;Midpoint());Dict(:alg=&gt;BS5());Dict(:alg=&gt;DP5())]    
wp_set = WorkPrecisionSet(prob,abstols,reltols,setups;dt=1/2^4,numruns=2)</code></pre><p>Both of these types have a plot recipe to produce a work-precision diagram, and a print which will show some relevant information.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../convergence/">« Convergence Simulations</a><a class="docs-footer-nextpage" href="../../internals/notes_on_algorithms/">Notes on Algorithms »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 23 February 2024 05:00">Friday 23 February 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
